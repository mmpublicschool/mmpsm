<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<!-- ‚úÖ BASIC SEO -->
<title>M.M Public School Mundeshwari | Official Website</title>
<link rel="icon" href="https://mmpublicschool.github.io/mmpsm/logo.png">
<link rel="apple-touch-icon" href="https://mmpublicschool.github.io/mmpsm/logo.png">

<meta name="description"
content="M.M Public School Mundeshwari Official Website. Online Admission, Notes, Test Series, Demo Class, Student Portal and School Updates.">

<meta name="keywords"
content="MM Public School Mundeshwari, MM Public School, MMPSM, Mundeshwari School, Online Admission Bihar, Student Portal">

<meta name="author" content="M.M Public School Mundeshwari">
<meta name="robots" content="index, follow">

<!-- ‚úÖ GOOGLE VERIFICATION -->
<meta name="google-site-verification"
content="KPDw4haUQPcKgIXGNM0EbmGKwXwk76fNJI59VcJzwE0">

<!-- ‚úÖ SOCIAL + GOOGLE LOGO -->
<meta property="og:title" content="M.M Public School Mundeshwari">
<meta property="og:description"
content="Official School Website - Admission, Notes, Demo Class, Test Series and Student Portal.">
<meta property="og:image" content="https://mmpublicschool.github.io/mmpsm/logo.png">

<meta property="og:image"
content="https://mmpublicschool.github.io/mmpsm/logo.png">

<meta property="og:type" content="website">
<meta property="og:url" content="https://mmpsm.wuaze.com/">

<!-- ‚úÖ GOOGLE SCHOOL STRUCTURED DATA -->
<script type="application/ld+json">
{
"@context":"https://schema.org",
"@type":"School",
"name":"M.M Public School Mundeshwari",
"url":"https://mmpsm.wuaze.com/",
"logo":"https://mmpublicschool.github.io/mmpsm/logo.png",
"description":"Official Website of M.M Public School Mundeshwari. Admission, Notes, Demo Class, Test Series and Student Portal.",
"sameAs":[
"https://mmpsm.wuaze.com/",
"https://mmpublicschool.github.io/mmpsm/"
]
}

</script>

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "M.M Public School Mundeshwari",
        "url": "https://mmpsm.wuaze.com/",
        "logo": "https://mmpublicschool.github.io/mmpsm/logo.png"
    }
</script>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    max-width: 100%;
    overflow-x: hidden;
    position: relative;
}

body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #f0f4fa;
    min-height: 100vh;
    padding-bottom: 70px;
    width: 100%;
}

/* ===== HEADER ===== */
.header {
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    width: 100%;
}

.menu-icon {
    font-size: 20px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(255,255,255,0.15);
    flex-shrink: 0;
    transition: 0.2s;
}

.menu-icon:hover {
    background: rgba(255,255,255,0.25);
}

.school-box {
    text-align: center;
    flex: 1;
}

.school-top {
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1px;
}

.school-bottom {
    font-size: 11px;
    opacity: 0.9;
    margin-top: 2px;
}

.right-icons {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-shrink: 0;
}

.right-icons i {
    font-size: 18px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(255,255,255,0.15);
    transition: 0.2s;
}

.right-icons i:hover {
    background: rgba(255,255,255,0.25);
}

.right-icons a {
    color: white;
    text-decoration: none;
}

.notification-icon {
    position: relative;
}

.notif-count {
    position: absolute;
    top: -2px;
    right: -2px;
    background: #ff4444;
    color: white;
    font-size: 11px;
    font-weight: 800;
    min-width: 18px;
    height: 18px;
    border-radius: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 4px;
    border: 2px solid white;
}

/* ===== SIDE MENU - Bigger and Better ===== */
.side-menu {
    position: fixed;
    top: 0;
    left: -320px;
    width: 300px;
    height: 100vh;
    background: white;
    z-index: 2000;
    transition: 0.3s ease;
    box-shadow: 2px 0 30px rgba(0,0,0,0.15);
    overflow-y: auto;
    overflow-x: hidden;
}

.side-menu.active {
    left: 0;
}

.menu-head {
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    padding: 25px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    position: sticky;
    top: 0;
    z-index: 10;
}

.menu-logo {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border: 4px solid rgba(255,255,255,0.3);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.menu-logo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.menu-logo i {
    font-size: 45px;
    color: #0a2a66;
}

.menu-user-name {
    font-size: 18px;
    font-weight: 800;
    text-align: center;
}

.menu-user-class {
    font-size: 13px;
    opacity: 0.9;
    background: rgba(255,255,255,0.2);
    padding: 5px 15px;
    border-radius: 30px;
}

.menu-items {
    padding: 10px 0 30px 0;
}

.menu-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 15px 22px;
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #f0f0f0;
    transition: 0.2s;
    font-weight: 500;
    cursor: pointer;
    width: 100%;
}

.menu-item:hover {
    background: #f0f4fa;
    color: #0a2a66;
    padding-left: 28px;
}

.menu-item i {
    width: 24px;
    font-size: 18px;
    color: #0a2a66;
}

.newItem {
    position: relative;
}

.newTag {
    background: #ff4444;
    color: white;
    font-size: 9px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 10px;
    margin-left: 8px;
    letter-spacing: 0.3px;
}

.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: rgba(0,0,0,0.5);
    z-index: 1999;
    display: none;
    backdrop-filter: blur(3px);
}

.menu-overlay.active {
    display: block;
}

/* ===== NOTIFICATION POPUP ===== */
.notif-popup {
    position: fixed;
    top: 70px;
    right: 12px;
    width: 300px;
    max-height: 400px;
    background: white;
    border-radius: 24px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    z-index: 1500;
    display: none;
    overflow: hidden;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.notif-head {
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    padding: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 700;
    font-size: 14px;
}

.notif-head button {
    background: rgba(255,255,255,0.2);
    border: none;
    color: white;
    padding: 5px 12px;
    border-radius: 30px;
    cursor: pointer;
    font-size: 11px;
    font-weight: 600;
    transition: 0.2s;
}

.notif-head button:hover {
    background: rgba(255,255,255,0.3);
}

#notifList {
    max-height: 330px;
    overflow-y: auto;
}

.notif-item {
    padding: 14px;
    border-bottom: 1px solid #f0f0f0;
    font-size: 13px;
    cursor: pointer;
    transition: 0.2s;
}

.notif-item:hover {
    background: #f8f9ff;
}

.notif-item .time {
    font-size: 10px;
    color: #999;
    margin-top: 6px;
}

.empty-msg {
    padding: 30px 20px;
    text-align: center;
    color: #666;
    font-size: 13px;
}

.bell-blink i {
    animation: bellShake 1s infinite;
}

@keyframes bellShake {
    0%, 100% { transform: rotate(0); }
    25% { transform: rotate(15deg); }
    75% { transform: rotate(-15deg); }
}

/* ===== CONFIRM DIALOG ===== */
.confirm-dialog {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    padding: 16px;
}

.dialog-box {
    background: white;
    padding: 24px;
    border-radius: 28px;
    width: 90%;
    max-width: 300px;
    text-align: center;
    box-shadow: 0 30px 60px rgba(0,0,0,0.3);
    animation: dialogPop 0.3s ease;
}

@keyframes dialogPop {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.dialog-title {
    font-weight: 800;
    font-size: 18px;
    color: #0a2a66;
    margin-bottom: 10px;
}

.dialog-text {
    color: #666;
    margin-bottom: 20px;
    line-height: 1.5;
    font-size: 14px;
}

.dialog-actions {
    display: flex;
    gap: 10px;
}

.cancel-btn, .ok-btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 40px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.2s;
    font-size: 13px;
}

.cancel-btn {
    background: #f0f0f0;
    color: #495057;
}

.cancel-btn:hover {
    background: #e0e0e0;
}

.ok-btn {
    background: #0a2a66;
    color: white;
}

.ok-btn:hover {
    background: #1e4b8f;
}

/* ===== PROFESSIONAL POPUP ===== */
.pro-popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    padding: 16px;
}

.pro-box {
    background: white;
    padding: 28px;
    border-radius: 28px;
    width: 90%;
    max-width: 320px;
    text-align: center;
    box-shadow: 0 30px 60px rgba(0,0,0,0.3);
}

.pro-box h3 {
    color: #0a2a66;
    font-size: 20px;
    font-weight: 800;
    margin-bottom: 14px;
}

.pro-box p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 20px;
    font-size: 13px;
}

.pro-box button {
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    border: none;
    padding: 12px 28px;
    border-radius: 40px;
    font-weight: 700;
    font-size: 15px;
    cursor: pointer;
    transition: 0.2s;
    box-shadow: 0 8px 20px rgba(10,42,102,0.3);
}

.pro-box button:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 25px rgba(10,42,102,0.4);
}

/* ===== HERO SECTION ===== */
.hero {
    padding: 28px 16px;
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    position: relative;
    width: 100%;
}

.hero-box {
    text-align: center;
}

.hero-title {
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 10px;
}

.hero-subtitle {
    font-size: 14px;
    opacity: 0.9;
    margin-bottom: 20px;
    line-height: 1.5;
}

.hero-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.hero-btn {
    padding: 12px 22px;
    border-radius: 40px;
    text-decoration: none;
    font-weight: 700;
    font-size: 13px;
    transition: 0.2s;
}

.hero-btn.explore {
    background: white;
    color: #0a2a66;
}

.hero-btn.explore:hover {
    background: #f0f0f0;
    transform: translateY(-2px);
}

.hero-btn.admission {
    background: rgba(255,255,255,0.15);
    color: white;
    border: 2px solid rgba(255,255,255,0.3);
}

.hero-btn.admission:hover {
    background: rgba(255,255,255,0.25);
    transform: translateY(-2px);
}

/* ===== NOTICE SECTION ===== */
.notice-section {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.notice-box {
    background: white;
    border-radius: 22px;
    padding: 18px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.notice-title {
    font-size: 16px;
    font-weight: 800;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.notice-title.new {
    color: #0a2a66;
}

.notice-title.old {
    color: #666;
}

.notice-scroll {
    max-height: 180px;
    overflow-y: auto;
}

.notice-scroll ul {
    list-style: none;
}

.notice-scroll li {
    padding: 10px 0;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
}

.notice-scroll li:last-child {
    border-bottom: none;
}

.notice-scroll li i {
    color: #0a2a66;
    font-size: 12px;
}

/* ===== NOTICE LOADING ===== */
.notice-loading {
    list-style: none;
}

.notice-loading li {
    height: 36px;
    background: linear-gradient(90deg, #f0f4fa 25%, #e0e7ff 50%, #f0f4fa 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: 8px;
    margin-bottom: 8px;
}

@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ===== APPS SECTION ===== */
.apps-section {
    padding: 16px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    width: 100%;
}

.app-card {
    background: white;
    border-radius: 18px;
    padding: 18px 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 8px;
    text-decoration: none;
    color: #0a2a66;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    transition: 0.3s;
    position: relative;
}

.app-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(10,42,102,0.15);
}

.app-card i {
    font-size: 24px;
    color: #0a2a66;
}

.app-card span {
    font-weight: 700;
    font-size: 12px;
    color: #333;
}

.app-card.newItem {
    border: 2px solid #ff9800;
}

.newTag {
    position: absolute;
    top: -6px;
    right: -6px;
    background: #ff4444;
    color: white;
    font-size: 9px;
    font-weight: 700;
    padding: 3px 6px;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(255,68,68,0.3);
}

/* Extra Features Section */
.extra-features-title {
    padding: 8px 16px 0 16px;
    font-size: 18px;
    font-weight: 800;
    color: #0a2a66;
    display: flex;
    align-items: center;
    gap: 8px;
}

.extra-features-title i {
    color: #ff9800;
}

/* ===== BOTTOM NAV ===== */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: white;
    display: flex;
    justify-content: space-around;
    padding: 8px 0;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
    z-index: 1000;
    border-top: 1px solid #f0f0f0;
}

.nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: #999;
    font-size: 11px;
    padding: 6px;
    transition: 0.2s;
    gap: 4px;
}

.nav-item.active {
    color: #0a2a66;
}

.nav-item i {
    font-size: 18px;
}

.nav-item.active i {
    color: #0a2a66;
}

.nav-item span {
    font-weight: 500;
}

/* ===== WELCOME POPUP ===== */
#myPopup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 999999;
    text-align: center;
    padding: 20px;
    display: none;
    backdrop-filter: blur(5px);
}

.popup-box {
    background: white;
    width: 90%;
    max-width: 320px;
    margin: auto;
    border-radius: 28px;
    padding: 28px 20px;
    box-shadow: 0 30px 60px rgba(0,0,0,0.3);
    animation: popIn 0.3s ease;
}

@keyframes popIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

.popup-logo {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    margin: 0 auto 12px;
    overflow: hidden;
    border: 3px solid #0a2a66;
}

.popup-logo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.popup-logo i {
    font-size: 50px;
    line-height: 90px;
    color: #0a2a66;
}

.popup-title {
    color: #0a2a66;
    font-size: 22px;
    font-weight: 800;
    margin-bottom: 4px;
}

.popup-subtitle {
    color: #b8860b;
    font-weight: 600;
    margin-bottom: 16px;
    font-size: 13px;
}

.popup-text {
    color: #666;
    line-height: 1.6;
    margin-bottom: 18px;
    font-size: 13px;
}

.popup-btn {
    background: linear-gradient(135deg, #0a2a66, #1e4b8f);
    color: white;
    padding: 14px 28px;
    border-radius: 60px;
    text-decoration: none;
    display: block;
    margin: 16px 0;
    font-weight: 700;
    font-size: 15px;
    transition: 0.2s;
}

.popup-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(10,42,102,0.3);
}

.popup-later {
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    font-size: 13px;
    text-decoration: underline;
}
/* ===== ADVANCE FEATURE PREMIUM STYLE ===== */

.advance-title{
font-size:20px;
font-weight:900;
color:#0a2a66;
padding:16px;
display:flex;
align-items:center;
gap:8px;
}

.af-card{
position:relative;
overflow:hidden;
transition:0.25s;
}

.af-card:hover{
transform:translateY(-6px);
box-shadow:0 18px 30px rgba(10,42,102,0.18);
}

/* ===== ADVANCE FEATURE CARD ===== */
.af-card{
position:relative;
background:#ffffff;
border-radius:24px;
padding:28px 10px;
text-align:center;
box-shadow:0 8px 20px rgba(0,0,0,0.06);
transition:0.25s;
overflow:hidden;
}

.af-card:hover{
transform:translateY(-6px);
box-shadow:0 18px 35px rgba(10,42,102,0.15);
}

/* ===== ICON ===== */
.af-card i{
font-size:34px;
color:#0a2a66;
margin-bottom:10px;
}

/* ===== TITLE ===== */
.af-card span{
display:block;
font-size:14px;
font-weight:800;
color:#333;
}

/* ===== NEW BADGE (CORNER STYLE) ===== */
.af-new{
position:absolute;
top:8px;
right:8px;          /* üëà ‡§Ö‡§¨ ‡§ï‡•ã‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∞‡§π‡•á‡§ó‡§æ */
background:#ff3b3b;
color:#fff;
font-size:10px;
font-weight:900;
padding:4px 10px;
border-radius:20px;
letter-spacing:1px;
animation:afPulse 1s infinite;
z-index:10;
box-shadow:0 4px 12px rgba(255,59,59,0.4);
}

/* ===== NEW BADGE ANIMATION ===== */
@keyframes afPulse{
0%{transform:scale(1);}
50%{transform:scale(1.25);}
100%{transform:scale(1);}
}

/* ===== ADVANCE FEATURE SECTION TITLE ===== */
.advance-title{
font-size:22px;
font-weight:900;
padding:18px 16px 8px;
color:#0a2a66;
display:flex;
align-items:center;
gap:10px;
}

/* ===== GRID LAYOUT ===== */
.advance-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:16px;
padding:16px;
}

/* ===== MOBILE RESPONSIVE ===== */
@media(max-width:480px){
.advance-grid{
grid-template-columns:repeat(2,1fr);
gap:14px;
}
.af-card{
padding:24px 8px;
}
.af-card i{
font-size:30px;
}
}
/* ===== SIDE MENU ITEM ===== */
.menu-item{
position:relative;
display:flex;
align-items:center;
gap:16px;
padding:18px 20px;
color:#333;
text-decoration:none;
border-bottom:1px solid #f0f0f0;
font-weight:700;
}

/* ===== ADMIN NEW BADGE ===== */
.menu-badge-new{
position:absolute;
right:18px;
top:50%;
transform:translateY(-50%);
background:#ff9800;      /* üëà ‡§Ö‡§≤‡§ó color */
color:#fff;
font-size:10px;
font-weight:900;
padding:4px 10px;
border-radius:20px;
letter-spacing:1px;
animation:menuPulse 1s infinite;
box-shadow:0 4px 12px rgba(255,152,0,0.4);
}

/* ===== BADGE ANIMATION ===== */
@keyframes menuPulse{
0%{transform:translateY(-50%) scale(1);}
50%{transform:translateY(-50%) scale(1.2);}
100%{transform:translateY(-50%) scale(1);}
}

/* OPTIONAL HOVER EFFECT */
.menu-new:hover{
background:#f8f9ff;
}
/* ===== ADMIN PANEL SPECIAL STYLE ===== */
.menu-new{
color:#ff9800;           /* üëà Admin Panel text color */
font-weight:900;
}

/* ICON COLOR CHANGE */
.menu-new i{
color:#ff9800;
}

/* HOVER EFFECT */
.menu-new:hover{
background:#fff4e5;
color:#e68900;
}

.menu-new:hover i{
color:#e68900;
}
/* ========================= */
/*     SCCM POPUP PRO        */
/* ========================= */

.sccm-popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.65);
backdrop-filter:blur(8px);
display:none;
align-items:center;
justify-content:center;
z-index:9999;
animation:fadePopup .3s ease;
}

@keyframes fadePopup{
from{opacity:0}
to{opacity:1}
}

/* ===== POPUP BOX ===== */
.sccm-box{
background:rgba(255,255,255,.95);
border-radius:24px;
width:88%;
max-width:360px;
padding:28px 24px;
text-align:center;
box-shadow:0 35px 80px rgba(0,0,0,.35);
animation:scalePopup .35s ease;
}

@keyframes scalePopup{
from{
transform:scale(.75) translateY(40px);
opacity:0;
}
to{
transform:scale(1);
opacity:1;
}
}
/* ============================= */
/*        SCCM HERO PREMIUM      */
/* ============================= */

.sccm-hero{
margin:24px 16px;
padding:28px 22px;
border-radius:26px;
text-align:center;
cursor:pointer;
position:relative;
overflow:hidden;

background:linear-gradient(135deg,#0a2a66,#163c7c,#1e4b8f);
color:#fff;

box-shadow:
0 15px 35px rgba(10,42,102,.35),
inset 0 1px 0 rgba(255,255,255,.1);

transition:.35s ease;
}

/* ===== Animated Glow Border ===== */
.sccm-hero::after{
content:"";
position:absolute;
inset:-2px;
border-radius:28px;
background:linear-gradient(90deg,#ffd700,#0a2a66,#ffd700);
z-index:-1;
filter:blur(8px);
opacity:.6;
animation:borderMove 6s linear infinite;
}

@keyframes borderMove{
0%{transform:rotate(0deg)}
100%{transform:rotate(360deg)}
}

/* ===== Moving Shine Effect ===== */
.sccm-hero::before{
content:"";
position:absolute;
top:0;
left:-120%;
width:120%;
height:100%;
background:linear-gradient(120deg,transparent,rgba(255,255,255,.35),transparent);
transition:.6s;
}

.sccm-hero:hover::before{
left:120%;
}

.sccm-hero:hover{
transform:translateY(-6px) scale(1.02);
box-shadow:0 25px 60px rgba(10,42,102,.5);
}

/* ===== Icon Pulse Animation ===== */
.sccm-hero i{
font-size:36px;
margin-bottom:8px;
color:#ffd700;
animation:pulseIcon 2s infinite;
}

@keyframes pulseIcon{
0%{transform:scale(1)}
50%{transform:scale(1.15)}
100%{transform:scale(1)}
}

.sccm-hero h2{
font-size:24px;
font-weight:900;
letter-spacing:4px;
margin:6px 0 4px 0;
}

.sccm-hero p{
font-size:13px;
opacity:.95;
letter-spacing:.6px;
}


/* ============================= */
/*         SCCM POPUP STYLE      */
/* ============================= */

.sccm-popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.55);
backdrop-filter:blur(7px);
display:none;
align-items:center;
justify-content:center;
z-index:9999;
animation:fadePop .3s ease;
}

@keyframes fadePop{
from{opacity:0}
to{opacity:1}
}

/* ===== Glass Popup Box ===== */
.sccm-box{
background:rgba(255,255,255,.92);
backdrop-filter:blur(12px);
padding:28px 24px;
border-radius:24px;
width:88%;
max-width:360px;
text-align:center;

box-shadow:
0 30px 70px rgba(0,0,0,.35),
inset 0 1px 0 rgba(255,255,255,.6);

animation:popupScale .35s ease;
}

@keyframes popupScale{
from{
transform:scale(.85);
opacity:0;
}
to{
transform:scale(1);
opacity:1;
}
}

.sccm-box h3{
color:#0a2a66;
font-size:19px;
font-weight:900;
margin-bottom:10px;
}

.sccm-box p{
font-size:13px;
color:#444;
line-height:1.6;
}


/* ============================= */
/*        POPUP BUTTON STYLE      */
/* ============================= */

.sccm-btns{
display:flex;
gap:12px;
margin-top:22px;
}

.sccm-no{
flex:1;
padding:14px;
border:none;
border-radius:14px;
background:#f2f4f8;
font-weight:800;
color:#333;
transition:.25s;
}

.sccm-no:hover{
background:#e6e9ef;
transform:scale(1.03);
}

.sccm-yes{
flex:1;
padding:14px;
border:none;
border-radius:14px;
background:linear-gradient(135deg,#0a2a66,#1e4b8f);
color:#fff;
font-weight:900;
box-shadow:0 10px 25px rgba(10,42,102,.35);
transition:.25s;
}

.sccm-yes:hover{
transform:translateY(-3px) scale(1.05);
box-shadow:0 18px 40px rgba(10,42,102,.5);
}
/* ICON CIRCLE */
.sccm-icon{
width:70px;
height:70px;
margin:0 auto 12px;
border-radius:50%;
background:linear-gradient(135deg,#0a2a66,#1e4b8f);
display:flex;
align-items:center;
justify-content:center;
color:#ffd700;
font-size:28px;
box-shadow:0 10px 25px rgba(10,42,102,.4);
}

.sccm-box h3{
font-size:20px;
font-weight:900;
color:#0a2a66;
margin-bottom:8px;
}

.sccm-box p{
font-size:13px;
color:#444;
line-height:1.6;
}

/* BUTTONS */
.sccm-btns{
display:flex;
gap:12px;
margin-top:22px;
}

.sccm-no{
flex:1;
padding:14px;
border:none;
border-radius:12px;
background:#eef1f6;
font-weight:800;
cursor:pointer;
transition:.25s;
}

.sccm-no:hover{
background:#e1e5ec;
transform:scale(1.05);
}

.sccm-yes{
flex:1;
padding:14px;
border:none;
border-radius:12px;
background:linear-gradient(135deg,#0a2a66,#1e4b8f);
color:#fff;
font-weight:900;
cursor:pointer;
box-shadow:0 12px 30px rgba(10,42,102,.4);
transition:.25s;
}

.sccm-yes:hover{
transform:translateY(-2px) scale(1.05);
}
/* ===== PROFESSIONAL SIGNUP POPUP ===== */

.intro-overlay{
position:fixed;
inset:0;
background:rgba(10,42,102,0.65);
backdrop-filter:blur(10px);
display:none;
align-items:center;
justify-content:center;
z-index:99999;
padding:20px;
animation:fadeBg .4s ease;
}

@keyframes fadeBg{
from{opacity:0}
to{opacity:1}
}

.intro-box{
width:100%;
max-width:360px;
background:linear-gradient(180deg,#ffffff,#f7f9ff);
border-radius:30px;
padding:34px 26px;
text-align:center;
box-shadow:0 30px 80px rgba(0,0,0,.25);
position:relative;
animation:popupSlide .45s cubic-bezier(.2,.8,.2,1);
}

@keyframes popupSlide{
from{transform:translateY(40px) scale(.92);opacity:0}
to{transform:translateY(0) scale(1);opacity:1}
}

/* TOP ICON CIRCLE */
.intro-box::before{
content:"";
position:absolute;
top:-32px;
left:50%;
transform:translateX(-50%);
width:64px;
height:64px;
background:linear-gradient(135deg,#0a2a66,#1e4b8f);
border-radius:50%;
box-shadow:0 10px 25px rgba(10,42,102,.4);
}

/* TITLE */
.intro-box h2{
font-size:22px;
font-weight:800;
color:#0a2a66;
margin-top:10px;
margin-bottom:10px;
letter-spacing:.3px;
}

/* DESCRIPTION */
.intro-box p{
font-size:14px;
color:#5a6475;
line-height:1.7;
margin-bottom:20px;
}

/* POINT LIST */
.intro-points{
text-align:left;
margin-bottom:24px;
}

.intro-points div{
display:flex;
align-items:center;
gap:12px;
margin-bottom:12px;
font-size:14px;
font-weight:700;
color:#0a2a66;
background:#eef2ff;
padding:10px 14px;
border-radius:14px;
}

.intro-points i{
color:#ff9800;
font-size:15px;
}

/* BUTTON */
.intro-box button{
width:100%;
background:linear-gradient(135deg,#0a2a66,#1e4b8f);
color:#fff;
border:none;
padding:15px;
border-radius:50px;
font-size:15px;
font-weight:800;
cursor:pointer;
box-shadow:0 10px 25px rgba(10,42,102,.35);
transition:.25s;
}

.intro-box button:active{
transform:scale(.96);
box-shadow:0 5px 15px rgba(10,42,102,.3);
}
</style>
</head>

<body>
<div id="signupGuide" class="intro-overlay">
    <div class="intro-box">
        
        <h2>Create Your Account</h2>
        
        <p>
            Signup to access your dashboard, online tests,
            leaderboard and student features.
        </p>
        
        <div class="intro-points">
            <div><i class="fa-solid fa-user-plus"></i> Signup option available</div>
            <div><i class="fa-solid fa-id-card"></i> Personal student dashboard</div>
            <div><i class="fa-solid fa-trophy"></i> Leaderboard access</div>
        </div>
        
        <button onclick="closeSignupGuide()">Continue</button>
        
    </div>
</div>
<!-- ===== PROFESSIONAL POPUP ===== -->
<div id="proPopup" class="pro-popup">
  <div class="pro-box">
    <h3 id="proTitle">Feature Coming Soon</h3>
    <p id="proText">
      This feature is currently under development.
      <br><br>
      Will be available soon. Stay connected! üöÄ
    </p>
    <button onclick="closeProPopup()">OK</button>
  </div>
</div>

<!-- ===== HEADER ===== -->
<header class="header">

<div class="menu-icon" id="menuBtn">
<i class="fa-solid fa-bars"></i>
</div>

<div class="school-box">
<div class="school-top">M. M PUBLIC SCHOOL</div>
<div class="school-bottom">MUNDESHWARI</div>
</div>

<div class="right-icons">

<div class="notification-icon" id="openNotif">
<i class="fa-regular fa-bell"></i>
<span class="notif-count" id="notifCount">0</span>
</div>

<a href="signup.html">
<i class="fa-solid fa-user-plus"></i>
</a>

</div>
</header>

<!-- ===== SIDE MENU WITH STUDENT PHOTO ===== -->
<div class="side-menu" id="sideMenu">

<div class="menu-head">
<div class="menu-logo">
<img id="menuStudentPhoto" src="logo.png" alt="Student Photo" onerror="this.src='logo.png';">
</div>
<div class="menu-user-name" id="menuStudentName">Student Name</div>
<div class="menu-user-class" id="menuStudentClass">Class ‚Ä¢ Student</div>
</div>

<div class="menu-items">
<a href="index.html" class="menu-item">
<i class="fa-solid fa-house"></i> Home
</a>

<a href="notice.html" class="menu-item">
<i class="fa-solid fa-bullhorn"></i> Notice Board
</a>

<a href="download.html" class="menu-item">
<i class="fa-solid fa-download"></i> Download
</a>

<a href="notes.html" class="menu-item">
<i class="fa-solid fa-book"></i> Notes
</a>

<a href="profile.html" class="menu-item">
<i class="fa-solid fa-user"></i> Profile
</a>

<!-- ‚≠ê CHECK RESULT WEEKLY -->
<a href="result-check.html" class="menu-item newItem">
<i class="fa-solid fa-calendar-check"></i>
<span>Check Result Weekly</span>
<small class="newTag">NEW</small>
</a>

<!-- ‚≠ê CHECK RESULT MONTHLY -->
<a href="check-result.html" class="menu-item newItem">
<i class="fa-solid fa-chart-line"></i>
<span>Check Result Monthly</span>
<small class="newTag">NEW</small>
</a>

<a href="admin.html" class="menu-item menu-new">
    <i class="fa-solid fa-gear"></i> Official login 
    <span class="menu-badge-new">NEW</span>
</a>

<a href="#" class="menu-item" onclick="openPopup('Live Classes');return false;">
<i class="fa-solid fa-video"></i> Live Classes
</a>

<a href="#" class="menu-item" onclick="openPopup('Homework');return false;">
<i class="fa-solid fa-pencil"></i> Homework
</a>

<a href="#" class="menu-item" onclick="openPopup('Attendance');return false;">
<i class="fa-solid fa-calendar-check"></i> Attendance
</a>

<a href="#" class="menu-item" onclick="openPopup('Fee Details');return false;">
<i class="fa-solid fa-indian-rupee-sign"></i> Fee Details
</a>

<a href="#" class="menu-item" onclick="openPopup('Time Table');return false;">
<i class="fa-solid fa-table"></i> Time Table
</a>
</div>

</div>

<div class="menu-overlay" id="menuOverlay"></div>

<!-- ===== NOTIFICATION POPUP ===== -->
<div class="notif-popup" id="notifPopup">
<div class="notif-head">
Notifications
<button id="clearNotif">Clear</button>
</div>
<div id="notifList"></div>
</div>

<!-- ===== CONFIRM DIALOG ===== -->
<div class="confirm-dialog" id="confirmDialog">
<div class="dialog-box">
<div class="dialog-title">Clear Notifications</div>
<div class="dialog-text">
Are you sure you want to clear all notifications?
</div>
<div class="dialog-actions">
<button class="cancel-btn" id="cancelClear">Cancel</button>
<button class="ok-btn" id="confirmClear">Clear</button>
</div>
</div>
</div>

<!-- ===== HERO ===== -->
<section class="hero">
<div class="hero-box">

<div class="hero-title">Welcome to M. M PUBLIC SCHOOL</div>

<div class="hero-subtitle">
MUNDESHWARI - Smart Learning ‚Ä¢ Better Future
</div>

<div class="hero-buttons">
<a href="home.html" class="hero-btn explore">Explore Now</a>
<a href="admission.html" class="hero-btn admission">
Admission New 2026-27
</a>
</div>

</div>
</section>

<!-- ===== NOTICE ===== -->
<section class="notice-section">
  
  <!-- ‚≠ê NEW NOTICE -->
  <div class="notice-box big">
    
    <div class="notice-title new"><i class="fa-regular fa-newspaper"></i> New Notice</div>
    
    <div class="notice-scroll">
      
      <!-- üî• PROFESSIONAL LOADING -->
      <ul id="newNoticeLoading" class="notice-loading">
        <li></li>
        <li></li>
        <li></li>
      </ul>
      
      <ul id="newNotice"></ul>
      
    </div>
  </div>
  
  
  <!-- ‚≠ê OLD NOTICE -->
  <div class="notice-box big">
    
    <div class="notice-title old"><i class="fa-regular fa-folder-open"></i> Old Notice</div>
    
    <div class="notice-scroll">
      
      <!-- üî• PROFESSIONAL LOADING -->
      <ul id="oldNoticeLoading" class="notice-loading">
        <li></li>
        <li></li>
        <li></li>
      </ul>
      
      <ul id="oldNotice"></ul>
      
    </div>
  </div>
  
</section>

<!-- ===== MAIN APPS ===== -->
<section class="apps-section">
  
  <!-- ‚≠ê OFFLINE TEST -->
  <a href="#" onclick="openPopup('Offline Test');return false;" class="app-card big-card">
    <i class="fa-solid fa-pen-to-square"></i>
    <span>Offline Test</span>
  </a>
  
  <!-- ‚≠ê TEST SERIES -->
  <a href="#" onclick="openPopup('Test Series');return false;" class="app-card big-card">
    <i class="fa-solid fa-clipboard-list"></i>
    <span>Test Series</span>
  </a>
  
  <!-- ‚≠ê OFFLINE TEST SERIES -->
  <a href="#" onclick="openPopup('Offline Test Series');return false;" class="app-card big-card">
    <i class="fa-solid fa-file-signature"></i>
    <span>Online test</span>
  </a>
  
  <!-- ‚≠ê LEADER BOARD -->
  <a href="leaderboard.html" class="app-card big-card newItem">
    <i class="fa-solid fa-trophy"></i>
    <span>Leader Board</span>
    <small class="newTag">NEW</small>
  </a>
  
  <!-- ‚≠ê WEEKLY RESULT -->
  <a href="result-check.html" class="app-card big-card newItem">
    <i class="fa-solid fa-calendar-check"></i>
    <span>Weekly Result</span>
    <small class="newTag">NEW</small>
  </a>
  
  <!-- ‚≠ê MONTHLY RESULT -->
  <a href="check-result.html" class="app-card big-card newItem">
    <i class="fa-solid fa-chart-line"></i>
    <span>Monthly Result</span>
    <small class="newTag">NEW</small>
  </a>
  
  <!-- ‚≠ê ADMIT CARD -->
  <a href="#" onclick="openPopup('Admit Card');return false;" class="app-card big-card">
    <i class="fa-solid fa-id-card"></i>
    <span>Check Admit Card</span>
  </a>
  
  <!-- ‚≠ê UPCOMING EVENT -->
  <a href="#" onclick="openPopup('Upcoming Event');return false;" class="app-card big-card">
    <i class="fa-solid fa-calendar-days"></i>
    <span>Upcoming Events</span>
  </a>
  
</section>

<!-- ===== EXTRA FEATURES TITLE ===== -->
<div class="extra-features-title">
  <i class="fa-solid fa-star"></i> Extra Features
  <i class="fa-solid fa-star"></i>
</div>

<!-- ===== EXTRA APPS ===== -->
<section class="apps-section">
  
  <!-- ‚≠ê TOPPER LIST -->
  <a href="#" onclick="openPopup('Topper List');return false;" class="app-card">
    <i class="fa-solid fa-medal"></i>
    <span>Topper List</span>
  </a>
  
  <!-- ‚≠ê CLASS STUDENTS -->
  <a href="#" onclick="openPopup('Class Students');return false;" class="app-card">
    <i class="fa-solid fa-users"></i>
    <span>Class Students</span>
  </a>
  
  <!-- ‚≠ê AI CHAT -->
  <a href="#" onclick="openPopup('AI Chat');return false;" class="app-card">
    <i class="fa-solid fa-robot"></i>
    <span>AI Chat</span>
  </a>
  
  <!-- ‚≠ê SCHOOL INFO -->
  <a href="#" onclick="openPopup('School Information');return false;" class="app-card">
    <i class="fa-solid fa-school"></i>
    <span>School Info</span>
  </a>
  
  <!-- ‚≠ê STUDY MATERIAL -->
  <a href="#" onclick="openPopup('Study Material');return false;" class="app-card">
    <i class="fa-solid fa-book-open"></i>
    <span>Study Material</span>
  </a>
  
  <!-- ‚≠ê VIDEO LECTURES -->
  <a href="#" onclick="openPopup('Video Lectures');return false;" class="app-card">
    <i class="fa-solid fa-video"></i>
    <span>Video Lectures</span>
  </a>
  
  <!-- ‚≠ê DOUBT SESSION -->
  <a href="#" onclick="openPopup('Doubt Session');return false;" class="app-card">
    <i class="fa-solid fa-question"></i>
    <span>Doubt Session</span>
  </a>
  
  <!-- ‚≠ê PRACTICE SETS -->
  <a href="#" onclick="openPopup('Practice Sets');return false;" class="app-card">
    <i class="fa-solid fa-layer-group"></i>
    <span>Practice Sets</span>
  </a>
  
  <!-- ‚≠ê PREVIOUS PAPERS -->
  <a href="#" onclick="openPopup('Previous Papers');return false;" class="app-card">
    <i class="fa-solid fa-clock-rotate-left"></i>
    <span>Previous Papers</span>
  </a>
  
  <!-- ‚≠ê SYLLABUS -->
  <a href="#" onclick="openPopup('Syllabus');return false;" class="app-card">
    <i class="fa-solid fa-list"></i>
    <span>Syllabus</span>
  </a>
  
  <!-- ‚≠ê HOLIDAY LIST -->
  <a href="#" onclick="openPopup('Holiday List');return false;" class="app-card">
    <i class="fa-solid fa-umbrella-beach"></i>
    <span>Holiday List</span>
  </a>
  
  <!-- ‚≠ê CONTACT TEACHER -->
  <a href="#" onclick="openPopup('Contact Teacher');return false;" class="app-card">
    <i class="fa-solid fa-chalkboard-user"></i>
    <span>Contact Teacher</span>
  </a>
  
</section>
<!-- ===== ADVANCE FEATURES TITLE ===== -->
<div class="advance-title">
    <i class="fa-solid fa-bolt"></i>
    Advance Features
</div>

<!-- ===== ADVANCE FEATURES CARDS ===== -->
<div class="apps-section">
    
    <a href="students-list.html" class="app-card af-card">
        <div class="af-new">NEW</div>
        <i class="fa-solid fa-users"></i>
        <span>Student List</span>
    </a>
    
    <a href="student-list-chat.html" class="app-card af-card">
        <div class="af-new">NEW</div>
        <i class="fa-solid fa-comments"></i>
        <span>Student  Chat</span>
    </a>
    
    <a href="check-admission-status.html" class="app-card af-card">
        <div class="af-new">NEW</div>
        <i class="fa-solid fa-id-card"></i>
        <span>Check Admission Status</span>
    </a>
    
    <a href="student-result.html" class="app-card af-card">
        <div class="af-new">NEW</div>
        <i class="fa-solid fa-chart-line"></i>
        <span>Student Result</span>
    </a>
    
</div>
<!-- ===== SCCM HERO SECTION ===== -->
<div class="sccm-hero" onclick="openSccmPopup()">
    
    <i class="fa-solid fa-graduation-cap"></i>
    
    <h2>S. C. C. M</h2>
    
    <p>Student Coaching & Career Mission</p>
    
</div>

<div class="sccm-popup" id="sccmPopup">
    <div class="sccm-box">
        
        <div class="sccm-icon">
            <i class="fa-solid fa-user-graduate"></i>
        </div>
        
        <h3>S.C.C.M Coaching Access</h3>
        
        <p>
            Are you an official student of <b>S.C.C.M Coaching Center</b>?
            Only registered coaching students are allowed to enter this learning system.
        </p>
        
        <div class="sccm-btns">
            <button class="sccm-no" onclick="closeSccm()">No</button>
            <button class="sccm-yes" onclick="goSccm()">Yes</button>
        </div>
        
    </div>
</div>
<!-- ===== BOTTOM NAV ===== -->
<nav class="bottom-nav">

<a href="index.html" class="nav-item active">
<i class="fa-solid fa-house"></i><span>Home</span>
</a>

<a href="notes.html" class="nav-item">
<i class="fa-solid fa-book"></i><span>Notes</span>
</a>

<a href="profile.html" class="nav-item">
<i class="fa-solid fa-user"></i><span>Profile</span>
</a>

</nav>

<!-- ===== WELCOME POPUP ===== -->
<div id="myPopup">
  <div class="popup-box">
    
    <div class="popup-logo">
      <img src="logo.png" alt="School Logo" onerror="this.style.display='none';this.parentElement.innerHTML='<i class=\'fa-solid fa-school\'></i>';">
    </div>
    
    <h2 class="popup-title">M.M Public School</h2>
    <p class="popup-subtitle">Mundeshwari</p>
    
    <p class="popup-text">
      ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§™‡§æ‡§è‡§Ç:<br>
      üìò PDF Notes ‚Ä¢ üé• Demo Class ‚Ä¢ üìù Test Series
    </p>
    
    <a href="signup.html" class="popup-btn">‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç</a>
    
    <button onclick="closePopup()" class="popup-later">‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç</button>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getDatabase, ref, onValue, set, get } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

const firebaseConfig={
apiKey:"AIzaSyAHAQjn4sTuR9FiGF3ljRrFEMZQjsx-SHg",
databaseURL:"https://apni-duniya-b53d7-default-rtdb.firebaseio.com",
projectId:"apni-duniya-b53d7"
};

const app=initializeApp(firebaseConfig);
const db=getDatabase(app);

// Format time
function timeAgo(ts){
    const diff=Math.floor((Date.now()-ts)/60000);
    if(diff<1) return "Just now";
    if(diff===1) return "1 min ago";
    if(diff<60) return diff+" min ago";
    const hours=Math.floor(diff/60);
    if(hours===1) return "1 hour ago";
    if(hours<24) return hours+" hours ago";
    const days=Math.floor(hours/24);
    if(days===1) return "Yesterday";
    return days+" days ago";
}

// Menu
document.getElementById('menuBtn').onclick=()=>{
    document.getElementById('sideMenu').classList.add('active');
    document.getElementById('menuOverlay').classList.add('active');
    // Prevent body scroll when menu is open
    document.body.style.overflow = 'hidden';
};

document.getElementById('menuOverlay').onclick=()=>{
    document.getElementById('sideMenu').classList.remove('active');
    document.getElementById('menuOverlay').classList.remove('active');
    // Restore body scroll
    document.body.style.overflow = 'auto';
};

// Load Student Data for Side Menu
async function loadStudentData() {
    const sessionSnap = await get(ref(db, 'session/currentUser'));
    if (sessionSnap.exists()) {
        const schoolId = sessionSnap.val().schoolId || sessionSnap.val();
        const studentSnap = await get(ref(db, 'students/' + schoolId));
        
        if (studentSnap.exists()) {
            const data = studentSnap.val();
            
            // Update side menu with student info
            document.getElementById('menuStudentName').innerText = data.name || 'Student Name';
            document.getElementById('menuStudentClass').innerText = (data.class || 'Class') + ' ‚Ä¢ Student';
            
            // Update student photo if available
            if (data.photoURL) {
                document.getElementById('menuStudentPhoto').src = data.photoURL;
            }
        }
    }
}

loadStudentData();

// Load New Notices
const newNoticeRef=ref(db,"notices/new");
onValue(newNoticeRef, (snap)=>{
    const list=document.getElementById('newNotice');
    const loading=document.getElementById('newNoticeLoading');
    list.innerHTML="";
    
    if(snap.exists()){
        loading.style.display="none";
        const notices=[];
        snap.forEach(child=>{
            notices.push({
                key:child.key,
                ...child.val()
            });
        });
        
        notices.sort((a,b)=>b.time-a.time);
        
        notices.slice(0,5).forEach(notice=>{
            list.innerHTML+=`
                <li>
                    <i class="fa-regular fa-circle-check" style="color:#0a2a66;"></i>
                    ${notice.text}
                    <span style="font-size:10px; color:#999; margin-left:auto;">${timeAgo(notice.time)}</span>
                </li>`;
        });
    } else {
        loading.style.display="none";
        list.innerHTML="<li style='color:#666;'>No new notices</li>";
    }
});

// Load Old Notices
const oldNoticeRef=ref(db,"notices/old");
onValue(oldNoticeRef, (snap)=>{
    const list=document.getElementById('oldNotice');
    const loading=document.getElementById('oldNoticeLoading');
    list.innerHTML="";
    
    if(snap.exists()){
        loading.style.display="none";
        const notices=[];
        snap.forEach(child=>{
            notices.push({
                key:child.key,
                ...child.val()
            });
        });
        
        notices.sort((a,b)=>b.time-a.time);
        
        notices.slice(0,5).forEach(notice=>{
            list.innerHTML+=`
                <li>
                    <i class="fa-regular fa-folder"></i>
                    ${notice.text}
                    <span style="font-size:10px; color:#999; margin-left:auto;">${timeAgo(notice.time)}</span>
                </li>`;
        });
    } else {
        loading.style.display="none";
        list.innerHTML="<li style='color:#666;'>No old notices</li>";
    }
});

// Load Notifications
onValue(ref(db,"notifications"), (snap)=>{
    const notifList=document.getElementById('notifList');
    const notifCount=document.getElementById('notifCount');
    notifList.innerHTML="";
    let arr=[];
    let unread=0;

    snap.forEach(child=>{
        const notif=child.val();
        arr.push(notif);
        if(!notif.read) unread++;
    });

    if(arr.length===0){
        notifList.innerHTML='<div class="empty-msg"><i class="fa-regular fa-bell-slash" style="font-size:22px; margin-bottom:10px; display:block;"></i>No notifications</div>';
        notifCount.innerText="0";
        document.getElementById('openNotif').classList.remove('bell-blink');
        return;
    }

    arr.sort((a,b)=>b.time-a.time);
    
    arr.slice(0,8).forEach(notif=>{
        const timeStr=timeAgo(notif.time);
        const icon=notif.type==='update'?'üìù':'üîî';
        notifList.innerHTML+=`
            <div class="notif-item">
                <div style="display:flex; gap:8px;">
                    <span style="font-size:16px;">${icon}</span>
                    <div style="flex:1;">
                        <div>${notif.text}</div>
                        <div class="time"><i class="fa-regular fa-clock"></i> ${timeStr}</div>
                    </div>
                </div>
            </div>`;
    });

    notifCount.innerText=unread>9?'9+':unread;
    if(unread>0) document.getElementById('openNotif').classList.add('bell-blink');
});

// Notifications popup
const openNotif=document.getElementById('openNotif');
const notifPopup=document.getElementById('notifPopup');

openNotif.onclick=(e)=>{
    e.stopPropagation();
    notifPopup.style.display='block';
};

document.addEventListener('click',(e)=>{
    if(!notifPopup.contains(e.target)&&!openNotif.contains(e.target)){
        notifPopup.style.display='none';
    }
});

// Clear notifications
document.getElementById('clearNotif').onclick=()=>{
    document.getElementById('confirmDialog').style.display='flex';
};

document.getElementById('confirmClear').onclick=async()=>{
    await set(ref(db,"notifications"),null);
    document.getElementById('confirmDialog').style.display='none';
    notifPopup.style.display='none';
};

document.getElementById('cancelClear').onclick=()=>{
    document.getElementById('confirmDialog').style.display='none';
};
</script>

<script>
  function openPopup(name) {
    const popup = document.getElementById("proPopup");
    const title = document.getElementById("proTitle");
    
    title.innerText = name;
    popup.style.display = "flex";
  }
  
  function closeProPopup() {
    document.getElementById("proPopup").style.display = "none";
  }

  // Welcome popup - only once
  if (!localStorage.getItem('popup_done')) {
    document.getElementById('myPopup').style.display = 'flex';
  }
  
  function closePopup() {
    document.getElementById('myPopup').style.display = 'none';
    localStorage.setItem('popup_done', 'true');
  }
  /* ===== SCCM POPUP ===== */

function openSccmPopup() {
    document.getElementById("sccmPopup").style.display = "flex";
}

function closeSccmPopup() {
    document.getElementById("sccmPopup").style.display = "none";
}

function goSccm() {
    window.location.href = "sccm-login.html";
}
function openSccm() {
    document.getElementById("sccmPopup").style.display = "flex";
}

function closeSccm() {
    document.getElementById("sccmPopup").style.display = "none";
}

function goSccm() {
    window.location.href = "sccm-login.html";
}

/* OUTSIDE CLICK CLOSE */
document.getElementById("sccmPopup").addEventListener("click", function(e) {
    if (e.target === this) {
        closeSccm();
    }
});

</script>
<script>

/* ================================
   SIGNUP GUIDE POPUP SYSTEM
================================ */

const signupGuide = document.getElementById("signupGuide");

/* üëâ Page open ‡§π‡•ã‡§§‡•á ‡§π‡•Ä popup ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ */
window.addEventListener("load", () => {

  // ‡§Ö‡§ó‡§∞ ‡§™‡§π‡§≤‡•á ‡§¨‡§Ç‡§¶ ‡§ï‡§ø‡§Ø‡§æ ‡§•‡§æ ‡§§‡•ã ‡§¶‡•Å‡§¨‡§æ‡§∞‡§æ ‡§®‡§æ ‡§¶‡§ø‡§ñ‡•á
  const seen = localStorage.getItem("signupGuideSeen");

  if(!seen){
      setTimeout(()=>{
          signupGuide.style.display = "flex";
      },800); // smooth delay
  }

});


/* üëâ Continue button */
function closeSignupGuide(){

  signupGuide.style.opacity="0";

  setTimeout(()=>{
      signupGuide.style.display="none";
      signupGuide.style.opacity="1";
  },300);

  // future ‡§Æ‡•á‡§Ç auto open ‡§®‡§æ ‡§π‡•ã
  localStorage.setItem("signupGuideSeen","yes");
}


/* üëâ Background ‡§™‡§∞ click ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§≠‡•Ä close */
signupGuide.addEventListener("click",(e)=>{
   if(e.target === signupGuide){
      closeSignupGuide();
   }
});

</script>

</body>
</html>